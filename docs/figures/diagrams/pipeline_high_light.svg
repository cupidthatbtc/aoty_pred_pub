<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: AOTYPipeline Pages: 1 -->
<svg width="352pt" height="1048pt"
 viewBox="0.00 0.00 352.00 1048.08" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 1012.08)">
<title>AOTYPipeline</title>
<polygon fill="#ffffff" stroke="none" points="-36,36 -36,-1012.08 316,-1012.08 316,36 -36,36"/>
<text text-anchor="middle" x="140" y="-956.078" font-family="Arial" font-size="20.00">AOTY Prediction Pipeline</text>
<g id="clust1" class="cluster"><title>cluster_input</title>
<path fill="#f7f7f7" stroke="#333333" stroke-width="1.5" d="M52,-825.539C52,-825.539 228,-825.539 228,-825.539 234,-825.539 240,-831.539 240,-837.539 240,-837.539 240,-926.078 240,-926.078 240,-932.078 234,-938.078 228,-938.078 228,-938.078 52,-938.078 52,-938.078 46,-938.078 40,-932.078 40,-926.078 40,-926.078 40,-837.539 40,-837.539 40,-831.539 46,-825.539 52,-825.539"/>
<text text-anchor="middle" x="140" y="-922.878" font-family="Arial" font-size="14.00" fill="#000000">Input</text>
</g>
<g id="clust3" class="cluster"><title>cluster_split</title>
<path fill="#fafafa" stroke="#333333" stroke-width="1.5" d="M74,-577.539C74,-577.539 206,-577.539 206,-577.539 212,-577.539 218,-583.539 218,-589.539 218,-589.539 218,-656.539 218,-656.539 218,-662.539 212,-668.539 206,-668.539 206,-668.539 74,-668.539 74,-668.539 68,-668.539 62,-662.539 62,-656.539 62,-656.539 62,-589.539 62,-589.539 62,-583.539 68,-577.539 74,-577.539"/>
<text text-anchor="middle" x="140" y="-653.339" font-family="Arial" font-size="14.00" fill="#000000">Data Splitting</text>
</g>
<g id="clust2" class="cluster"><title>cluster_preprocess</title>
<path fill="#f0f0f0" stroke="#333333" stroke-width="1.5" d="M81,-701.539C81,-701.539 199,-701.539 199,-701.539 205,-701.539 211,-707.539 211,-713.539 211,-713.539 211,-780.539 211,-780.539 211,-786.539 205,-792.539 199,-792.539 199,-792.539 81,-792.539 81,-792.539 75,-792.539 69,-786.539 69,-780.539 69,-780.539 69,-713.539 69,-713.539 69,-707.539 75,-701.539 81,-701.539"/>
<text text-anchor="middle" x="140" y="-777.339" font-family="Arial" font-size="14.00" fill="#000000">Preprocessing</text>
</g>
<g id="clust4" class="cluster"><title>cluster_features</title>
<path fill="#f5f9f5" stroke="#333333" stroke-width="1.5" d="M74,-453.539C74,-453.539 206,-453.539 206,-453.539 212,-453.539 218,-459.539 218,-465.539 218,-465.539 218,-532.539 218,-532.539 218,-538.539 212,-544.539 206,-544.539 206,-544.539 74,-544.539 74,-544.539 68,-544.539 62,-538.539 62,-532.539 62,-532.539 62,-465.539 62,-465.539 62,-459.539 68,-453.539 74,-453.539"/>
<text text-anchor="middle" x="140" y="-529.339" font-family="Arial" font-size="14.00" fill="#000000">Feature Engineering</text>
</g>
<g id="clust6" class="cluster"><title>cluster_eval</title>
<path fill="#f8f5fa" stroke="#333333" stroke-width="1.5" d="M20,-153.539C20,-153.539 260,-153.539 260,-153.539 266,-153.539 272,-159.539 272,-165.539 272,-165.539 272,-284.539 272,-284.539 272,-290.539 266,-296.539 260,-296.539 260,-296.539 20,-296.539 20,-296.539 14,-296.539 8,-290.539 8,-284.539 8,-284.539 8,-165.539 8,-165.539 8,-159.539 14,-153.539 20,-153.539"/>
<text text-anchor="middle" x="140" y="-281.339" font-family="Arial" font-size="14.00" fill="#000000">Evaluation</text>
</g>
<g id="clust7" class="cluster"><title>cluster_output</title>
<path fill="#f7f7f7" stroke="#333333" stroke-width="1.5" d="M58,-8C58,-8 222,-8 222,-8 228,-8 234,-14 234,-20 234,-20 234,-108.539 234,-108.539 234,-114.539 228,-120.539 222,-120.539 222,-120.539 58,-120.539 58,-120.539 52,-120.539 46,-114.539 46,-108.539 46,-108.539 46,-20 46,-20 46,-14 52,-8 58,-8"/>
<text text-anchor="middle" x="140" y="-105.339" font-family="Arial" font-size="14.00" fill="#000000">Output</text>
</g>
<g id="clust5" class="cluster"><title>cluster_model</title>
<path fill="#fffdf0" stroke="#333333" stroke-width="1.5" d="M67,-329.539C67,-329.539 213,-329.539 213,-329.539 219,-329.539 225,-335.539 225,-341.539 225,-341.539 225,-408.539 225,-408.539 225,-414.539 219,-420.539 213,-420.539 213,-420.539 67,-420.539 67,-420.539 61,-420.539 55,-414.539 55,-408.539 55,-408.539 55,-341.539 55,-341.539 55,-335.539 61,-329.539 67,-329.539"/>
<text text-anchor="middle" x="140" y="-405.339" font-family="Arial" font-size="14.00" fill="#000000">Bayesian Modeling</text>
</g>
<!-- input_data -->
<g id="node1" class="node"><title>input_data</title>
<ellipse fill="#e8e8e8" stroke="#333333" stroke-width="1.2" cx="140" cy="-870.309" rx="91.8478" ry="36.5405"/>
<text text-anchor="middle" x="140" y="-874.109" font-family="Arial" font-size="14.00" fill="#000000">Raw Data</text>
<text text-anchor="middle" x="140" y="-859.109" font-family="Arial" font-size="14.00" fill="#000000">(130K albums)</text>
</g>
<!-- cleaning -->
<g id="node2" class="node"><title>cleaning</title>
<path fill="#ffffff" stroke="#333333" stroke-width="1.2" d="M190.5,-761.539C190.5,-761.539 89.5,-761.539 89.5,-761.539 83.5,-761.539 77.5,-755.539 77.5,-749.539 77.5,-749.539 77.5,-721.539 77.5,-721.539 77.5,-715.539 83.5,-709.539 89.5,-709.539 89.5,-709.539 190.5,-709.539 190.5,-709.539 196.5,-709.539 202.5,-715.539 202.5,-721.539 202.5,-721.539 202.5,-749.539 202.5,-749.539 202.5,-755.539 196.5,-761.539 190.5,-761.539"/>
<text text-anchor="middle" x="140" y="-739.339" font-family="Arial" font-size="14.00" fill="#000000">Data Cleaning</text>
<text text-anchor="middle" x="140" y="-724.339" font-family="Arial" font-size="14.00" fill="#000000">&amp; Validation</text>
</g>
<!-- input_data&#45;&gt;cleaning -->
<g id="edge1" class="edge"><title>input_data&#45;&gt;cleaning</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M140,-833.379C140,-813.578 140,-789.16 140,-769.798"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="142.8,-769.566 140,-761.566 137.2,-769.566 142.8,-769.566"/>
</g>
<!-- splits -->
<g id="node3" class="node"><title>splits</title>
<path fill="#ffffff" stroke="#333333" stroke-width="1.2" d="M197.5,-637.539C197.5,-637.539 82.5,-637.539 82.5,-637.539 76.5,-637.539 70.5,-631.539 70.5,-625.539 70.5,-625.539 70.5,-597.539 70.5,-597.539 70.5,-591.539 76.5,-585.539 82.5,-585.539 82.5,-585.539 197.5,-585.539 197.5,-585.539 203.5,-585.539 209.5,-591.539 209.5,-597.539 209.5,-597.539 209.5,-625.539 209.5,-625.539 209.5,-631.539 203.5,-637.539 197.5,-637.539"/>
<text text-anchor="middle" x="140" y="-615.339" font-family="Arial" font-size="14.00" fill="#000000">Train / Val / Test</text>
<text text-anchor="middle" x="140" y="-600.339" font-family="Arial" font-size="14.00" fill="#000000">(temporal split)</text>
</g>
<!-- cleaning&#45;&gt;splits -->
<g id="edge2" class="edge"><title>cleaning&#45;&gt;splits</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M140,-709.261C140,-690.94 140,-665.981 140,-646.007"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="142.8,-645.785 140,-637.785 137.2,-645.785 142.8,-645.785"/>
</g>
<!-- features -->
<g id="node4" class="node"><title>features</title>
<path fill="#e8e4d4" stroke="#333333" stroke-width="1.2" d="M198,-513.539C198,-513.539 82,-513.539 82,-513.539 76,-513.539 70,-507.539 70,-501.539 70,-501.539 70,-473.539 70,-473.539 70,-467.539 76,-461.539 82,-461.539 82,-461.539 198,-461.539 198,-461.539 204,-461.539 210,-467.539 210,-473.539 210,-473.539 210,-501.539 210,-501.539 210,-507.539 204,-513.539 198,-513.539"/>
<text text-anchor="middle" x="140" y="-491.339" font-family="Arial" font-size="14.00" fill="#000000">Feature Pipeline</text>
<text text-anchor="middle" x="140" y="-476.339" font-family="Arial" font-size="14.00" fill="#000000">(6 blocks)</text>
</g>
<!-- splits&#45;&gt;features -->
<g id="edge3" class="edge"><title>splits&#45;&gt;features</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M140,-585.261C140,-566.94 140,-541.981 140,-522.007"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="142.8,-521.785 140,-513.785 137.2,-521.785 142.8,-521.785"/>
</g>
<!-- model -->
<g id="node5" class="node"><title>model</title>
<path fill="#b8d4e8" stroke="#333333" stroke-width="2" d="M204.5,-389.539C204.5,-389.539 75.5,-389.539 75.5,-389.539 69.5,-389.539 63.5,-383.539 63.5,-377.539 63.5,-377.539 63.5,-349.539 63.5,-349.539 63.5,-343.539 69.5,-337.539 75.5,-337.539 75.5,-337.539 204.5,-337.539 204.5,-337.539 210.5,-337.539 216.5,-343.539 216.5,-349.539 216.5,-349.539 216.5,-377.539 216.5,-377.539 216.5,-383.539 210.5,-389.539 204.5,-389.539"/>
<text text-anchor="middle" x="140" y="-367.339" font-family="Arial" font-size="14.00" fill="#000000">Hierarchical Model</text>
<text text-anchor="middle" x="140" y="-352.339" font-family="Arial" font-size="14.00" fill="#000000">(MCMC)</text>
</g>
<!-- features&#45;&gt;model -->
<g id="edge4" class="edge"><title>features&#45;&gt;model</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M140,-461.261C140,-442.94 140,-417.981 140,-398.007"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="142.8,-397.785 140,-389.785 137.2,-397.785 142.8,-397.785"/>
</g>
<!-- evaluation -->
<g id="node6" class="node"><title>evaluation</title>
<path fill="#ffe4b5" stroke="#333333" stroke-width="1.2" d="M128.934,-260.898C128.934,-260.898 27.0663,-218.18 27.0663,-218.18 21.5332,-215.859 21.5332,-211.219 27.0663,-208.898 27.0663,-208.898 128.934,-166.18 128.934,-166.18 134.467,-163.859 145.533,-163.859 151.066,-166.18 151.066,-166.18 252.934,-208.898 252.934,-208.898 258.467,-211.219 258.467,-215.859 252.934,-218.18 252.934,-218.18 151.066,-260.898 151.066,-260.898 145.533,-263.219 134.467,-263.219 128.934,-260.898"/>
<text text-anchor="middle" x="140" y="-217.339" font-family="Arial" font-size="14.00" fill="#000000">Diagnostics &amp;</text>
<text text-anchor="middle" x="140" y="-202.339" font-family="Arial" font-size="14.00" fill="#000000">Validation</text>
</g>
<!-- model&#45;&gt;evaluation -->
<g id="edge5" class="edge"><title>model&#45;&gt;evaluation</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M123.19,-337.433C118.427,-317.724 117.108,-289.639 119.234,-265.291"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="122.033,-265.444 120.086,-257.195 116.464,-264.857 122.033,-265.444"/>
</g>
<!-- evaluation&#45;&gt;model -->
<g id="edge7" class="edge"><title>evaluation&#45;&gt;model</title>
<path fill="none" stroke="#666666" stroke-width="1.2" stroke-dasharray="5,2" d="M159.914,-257.195C162.767,-280.137 162.295,-308.009 158.498,-329.32"/>
<polygon fill="#666666" stroke="#666666" stroke-width="1.2" points="155.699,-329.03 156.81,-337.433 161.181,-330.171 155.699,-329.03"/>
<text text-anchor="middle" x="151.206" y="-295.857" font-family="Arial" font-size="8.00" fill="#000000">tune</text>
</g>
<!-- predictions -->
<g id="node7" class="node"><title>predictions</title>
<ellipse fill="#d4e8d4" stroke="#333333" stroke-width="1.2" cx="140" cy="-52.7696" rx="85.6199" ry="36.5405"/>
<text text-anchor="middle" x="140" y="-56.5696" font-family="Arial" font-size="14.00" fill="#000000">Predictions</text>
<text text-anchor="middle" x="140" y="-41.5696" font-family="Arial" font-size="14.00" fill="#000000">(with 95% CI)</text>
</g>
<!-- evaluation&#45;&gt;predictions -->
<g id="edge6" class="edge"><title>evaluation&#45;&gt;predictions</title>
<path fill="none" stroke="#333333" stroke-width="1.5" d="M140,-161.429C140,-140.965 140,-117.617 140,-97.9063"/>
<polygon fill="#333333" stroke="#333333" stroke-width="1.5" points="142.8,-97.7007 140,-89.7007 137.2,-97.7008 142.8,-97.7007"/>
</g>
</g>
</svg>
